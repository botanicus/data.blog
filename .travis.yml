# https://docs.travis-ci.com/user/languages/ruby
language: ruby
cache: bundler

rvm:
- 2.6.2

script:
- rake build
- export SOURCE_COMMIT=$(git log --pretty=format:'%h' -n 1)
- git remote add github https://$GITHUB_PERSONAL_ACCESS_TOKEN@github.com/$TRAVIS_REPO_SLUG.git
- git branch -a
- git fetch github
- git branch -a
- git checkout github/content -b content
- git status
- git add content
- git status
- git commit content -m "Generated from $SOURCE_COMMIT"
- git push github content

# https://docs.travis-ci.com/user/notifications
notifications:
  email: false
